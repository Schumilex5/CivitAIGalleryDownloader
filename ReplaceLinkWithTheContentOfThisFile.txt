javascript:(async()=>{console.log('ğŸŸ¢ Civitai downloader started');const g=document.querySelector('[class*="ModelVersionDetails_mainSection__"]');if(!g)return console.log('âŒ Gallery container not found');const i=Array.from(g.querySelectorAll('img[src*="image.civitai.com"]')).concat(Array.from(g.querySelectorAll('div[class*="flex-[0_0_"] img[src*="image.civitai.com"]'))).filter(x=>!x.closest('.mantine-Card-root')&&!x.closest('[class*="CreatorCard_"]'));if(!i.length)return console.log('âš ï¸ No valid images found');const s=new Set();const u=i.map(x=>x.src.replace(/\/anim=.*?\/|,optimized=true|,width=\d+/g,'/').split('?')[0]).filter(u=>u&&u.startsWith('https')&&!s.has(u)&&s.add(u));console.log(`â„¹ï¸ Found ${u.length} images`);for(let j=0;j<u.length;j++){try{console.log(`ğŸ“¥ Fetching ${u[j]}`);const r=await fetch(u[j]);const b=await r.blob();const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download=`civitai_image_${j+1}.jpg`;document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(a.href);console.log(`âœ… Saved image ${j+1}`);}catch(e){console.log(`âŒ Failed image ${j+1}`,e);}await new Promise(r=>setTimeout(r,50));}console.log(`ğŸŸ¢ Download finished, ${u.length} images`);})();
